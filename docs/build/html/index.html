<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Welcome to assignment1 experimental’s documentation! &mdash; assignment1 experimental 1.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="#" class="icon icon-home">
            assignment1 experimental
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Welcome to assignment1 experimental’s documentation!</a><ul>
<li><a class="reference internal" href="#module-scripts.fsm">Finite State Machine</a><ul>
<li><a class="reference internal" href="#scripts.fsm.CreateTopologicalMap"><code class="docutils literal notranslate"><span class="pre">CreateTopologicalMap</span></code></a><ul>
<li><a class="reference internal" href="#scripts.fsm.CreateTopologicalMap.execute"><code class="docutils literal notranslate"><span class="pre">CreateTopologicalMap.execute()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scripts.fsm.MoveToCharger"><code class="docutils literal notranslate"><span class="pre">MoveToCharger</span></code></a><ul>
<li><a class="reference internal" href="#scripts.fsm.MoveToCharger.execute"><code class="docutils literal notranslate"><span class="pre">MoveToCharger.execute()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scripts.fsm.MoveToRoom"><code class="docutils literal notranslate"><span class="pre">MoveToRoom</span></code></a><ul>
<li><a class="reference internal" href="#scripts.fsm.MoveToRoom.execute"><code class="docutils literal notranslate"><span class="pre">MoveToRoom.execute()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scripts.fsm.Recharging"><code class="docutils literal notranslate"><span class="pre">Recharging</span></code></a><ul>
<li><a class="reference internal" href="#scripts.fsm.Recharging.execute"><code class="docutils literal notranslate"><span class="pre">Recharging.execute()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scripts.fsm.VisitRoom"><code class="docutils literal notranslate"><span class="pre">VisitRoom</span></code></a><ul>
<li><a class="reference internal" href="#scripts.fsm.VisitRoom.execute"><code class="docutils literal notranslate"><span class="pre">VisitRoom.execute()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scripts.fsm.check_room_reached"><code class="docutils literal notranslate"><span class="pre">check_room_reached()</span></code></a></li>
<li><a class="reference internal" href="#scripts.fsm.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li><a class="reference internal" href="#scripts.fsm.move_to_room"><code class="docutils literal notranslate"><span class="pre">move_to_room()</span></code></a></li>
<li><a class="reference internal" href="#scripts.fsm.set_battery_level"><code class="docutils literal notranslate"><span class="pre">set_battery_level()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-scripts.robot_state">Robot State</a><ul>
<li><a class="reference internal" href="#scripts.robot_state.RobotState"><code class="docutils literal notranslate"><span class="pre">RobotState</span></code></a><ul>
<li><a class="reference internal" href="#scripts.robot_state.RobotState.get_battery_level"><code class="docutils literal notranslate"><span class="pre">RobotState.get_battery_level()</span></code></a></li>
<li><a class="reference internal" href="#scripts.robot_state.RobotState.get_pose"><code class="docutils literal notranslate"><span class="pre">RobotState.get_pose()</span></code></a></li>
<li><a class="reference internal" href="#scripts.robot_state.RobotState.set_battery_level"><code class="docutils literal notranslate"><span class="pre">RobotState.set_battery_level()</span></code></a></li>
<li><a class="reference internal" href="#scripts.robot_state.RobotState.set_pose"><code class="docutils literal notranslate"><span class="pre">RobotState.set_pose()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-scripts.planner">Planner</a><ul>
<li><a class="reference internal" href="#scripts.planner.PlaningAction"><code class="docutils literal notranslate"><span class="pre">PlaningAction</span></code></a><ul>
<li><a class="reference internal" href="#scripts.planner.PlaningAction.execute_callback"><code class="docutils literal notranslate"><span class="pre">PlaningAction.execute_callback()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scripts.planner.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-scripts.controller">Controller</a><ul>
<li><a class="reference internal" href="#scripts.controller.ControllingAction"><code class="docutils literal notranslate"><span class="pre">ControllingAction</span></code></a><ul>
<li><a class="reference internal" href="#scripts.controller.ControllingAction.execute_callback"><code class="docutils literal notranslate"><span class="pre">ControllingAction.execute_callback()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scripts.controller.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">assignment1 experimental</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Welcome to assignment1 experimental’s documentation!</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="welcome-to-assignment1-experimental-s-documentation">
<h1>Welcome to assignment1 experimental’s documentation!<a class="headerlink" href="#welcome-to-assignment1-experimental-s-documentation" title="Permalink to this heading"></a></h1>
<section id="module-scripts.fsm">
<span id="finite-state-machine"></span><h2>Finite State Machine<a class="headerlink" href="#module-scripts.fsm" title="Permalink to this heading"></a></h2>
<span class="target" id="module-fsm"></span><dl>
<dt>Uses Service:</dt><dd><p>/state/set_battery_level</p>
<p>/state/get_pose</p>
</dd>
<dt>Uses Action:</dt><dd><p>/motion/planner</p>
<p>/motion/controller</p>
</dd>
</dl>
<p>Defines the states and transitions for the finite state machine of this rospackage. In the initial state
robot builds the semantic map of environment after loading the <code class="docutils literal notranslate"><span class="pre">topological_map.owl</span></code> file. This node
uses <code class="docutils literal notranslate"><span class="pre">helper.py</span></code> script to update the ontology while the process is running, and retreives
the target room based on last visit times and robot battey state. In the next state it moves to the target room
and if battery level gets lower than threshold, it goes to charger, and charges the battery.</p>
<dl class="py class">
<dt class="sig sig-object py" id="scripts.fsm.CreateTopologicalMap">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scripts.fsm.</span></span><span class="sig-name descname"><span class="pre">CreateTopologicalMap</span></span><a class="reference internal" href="_modules/scripts/fsm.html#CreateTopologicalMap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.fsm.CreateTopologicalMap" title="Permalink to this definition"></a></dt>
<dd><p>Defines the initial state in which the robot creates the topological map, by loading the <code class="docutils literal notranslate"><span class="pre">topological_map.owl</span></code> file
and adding the properties</p>
<dl class="py method">
<dt class="sig sig-object py" id="scripts.fsm.CreateTopologicalMap.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">userdata</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/fsm.html#CreateTopologicalMap.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.fsm.CreateTopologicalMap.execute" title="Permalink to this definition"></a></dt>
<dd><p>Implements the execution of the tasks while this state gets active.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scripts.fsm.MoveToCharger">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scripts.fsm.</span></span><span class="sig-name descname"><span class="pre">MoveToCharger</span></span><a class="reference internal" href="_modules/scripts/fsm.html#MoveToCharger"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.fsm.MoveToCharger" title="Permalink to this definition"></a></dt>
<dd><p>Defines the state when battery level is low and moves to charger, using
<code class="docutils literal notranslate"><span class="pre">move_to_room('E')</span></code> function. Additionally, it updates the ontology while it moves to charger
using <code class="docutils literal notranslate"><span class="pre">update_ontology(now)</span></code> function, until it reaches the charger.</p>
<dl class="py method">
<dt class="sig sig-object py" id="scripts.fsm.MoveToCharger.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">userdata</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/fsm.html#MoveToCharger.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.fsm.MoveToCharger.execute" title="Permalink to this definition"></a></dt>
<dd><p>Implements the execution of the tasks while this state gets active.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scripts.fsm.MoveToRoom">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scripts.fsm.</span></span><span class="sig-name descname"><span class="pre">MoveToRoom</span></span><a class="reference internal" href="_modules/scripts/fsm.html#MoveToRoom"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.fsm.MoveToRoom" title="Permalink to this definition"></a></dt>
<dd><p>Defines the state when robot moves to the target room found by the ontology, using
<code class="docutils literal notranslate"><span class="pre">move_to_room(room)</span></code> function. Additionally, it updates the ontology while it moves to target room
using <code class="docutils literal notranslate"><span class="pre">update_ontology(now)</span></code> function, until it reaches the target room, then exits the state by
returning <code class="docutils literal notranslate"><span class="pre">room_reached</span></code>. If the battery level gets lower than threshold, it returns <code class="docutils literal notranslate"><span class="pre">battery_low</span></code>
and target room will be canceled.</p>
<dl class="py method">
<dt class="sig sig-object py" id="scripts.fsm.MoveToRoom.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">userdata</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/fsm.html#MoveToRoom.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.fsm.MoveToRoom.execute" title="Permalink to this definition"></a></dt>
<dd><p>Implements the execution of the tasks while this state gets active.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scripts.fsm.Recharging">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scripts.fsm.</span></span><span class="sig-name descname"><span class="pre">Recharging</span></span><a class="reference internal" href="_modules/scripts/fsm.html#Recharging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.fsm.Recharging" title="Permalink to this definition"></a></dt>
<dd><p>Defines the state when robot has reached the charger and chargers battery after some time using
<code class="docutils literal notranslate"><span class="pre">set_battery_level(battery_level)</span></code> function and then returns <code class="docutils literal notranslate"><span class="pre">robot_charged</span></code> transition.</p>
<dl class="py method">
<dt class="sig sig-object py" id="scripts.fsm.Recharging.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">userdata</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/fsm.html#Recharging.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.fsm.Recharging.execute" title="Permalink to this definition"></a></dt>
<dd><p>Implements the execution of the tasks while this state gets active.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scripts.fsm.VisitRoom">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scripts.fsm.</span></span><span class="sig-name descname"><span class="pre">VisitRoom</span></span><a class="reference internal" href="_modules/scripts/fsm.html#VisitRoom"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.fsm.VisitRoom" title="Permalink to this definition"></a></dt>
<dd><p>Defines the state when robot has reached the target room and then visits it.</p>
<dl class="py method">
<dt class="sig sig-object py" id="scripts.fsm.VisitRoom.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">userdata</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/fsm.html#VisitRoom.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.fsm.VisitRoom.execute" title="Permalink to this definition"></a></dt>
<dd><p>Implements the execution of the tasks while this state gets active.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scripts.fsm.check_room_reached">
<span class="sig-prename descclassname"><span class="pre">scripts.fsm.</span></span><span class="sig-name descname"><span class="pre">check_room_reached</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">room</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/fsm.html#check_room_reached"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.fsm.check_room_reached" title="Permalink to this definition"></a></dt>
<dd><p>Checks if the robot has reached to a room</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>room</strong> (<em>string</em>) – </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>target_reached(Bool)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scripts.fsm.main">
<span class="sig-prename descclassname"><span class="pre">scripts.fsm.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/fsm.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.fsm.main" title="Permalink to this definition"></a></dt>
<dd><p>The main function for <cite>fsm</cite> node, initialises the node and takes an instance of
<code class="docutils literal notranslate"><span class="pre">TopologicalMap</span></code> class in the time instance now, defines the states and transitions of
the finite state machine for topological map and finally starts the finite state machine process</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scripts.fsm.move_to_room">
<span class="sig-prename descclassname"><span class="pre">scripts.fsm.</span></span><span class="sig-name descname"><span class="pre">move_to_room</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">room</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/fsm.html#move_to_room"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.fsm.move_to_room" title="Permalink to this definition"></a></dt>
<dd><p>Sends target room’s corresponding position by calling <code class="docutils literal notranslate"><span class="pre">move_to_pose(x,y)</span></code> function.
Subsecuently, it would initiate the planner server, and once the path is found, the controller
server moves the robot.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>room</strong> (<em>string</em>) – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scripts.fsm.set_battery_level">
<span class="sig-prename descclassname"><span class="pre">scripts.fsm.</span></span><span class="sig-name descname"><span class="pre">set_battery_level</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">battery_level</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/fsm.html#set_battery_level"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.fsm.set_battery_level" title="Permalink to this definition"></a></dt>
<dd><p>Service client function for <code class="docutils literal notranslate"><span class="pre">/state/set_battery_level</span></code> Update the current robot battery level
stored in the <code class="docutils literal notranslate"><span class="pre">robot-state</span></code> node</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>battery_level</strong> (<em>int</em>) – </p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-scripts.robot_state">
<span id="robot-state"></span><h2>Robot State<a class="headerlink" href="#module-scripts.robot_state" title="Permalink to this heading"></a></h2>
<span class="target" id="module-robot_state"></span><dl>
<dt>Uses Service:</dt><dd><p>/state/get_pose</p>
<p>/state/set_pose</p>
<p>/state/get_battery_level</p>
<p>/state/set_battery_level</p>
</dd>
</dl>
<p>Simulates the robot by defining a battery level, and pose. Gets controled by the controller server.</p>
<dl class="py class">
<dt class="sig sig-object py" id="scripts.robot_state.RobotState">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scripts.robot_state.</span></span><span class="sig-name descname"><span class="pre">RobotState</span></span><a class="reference internal" href="_modules/scripts/robot_state.html#RobotState"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.robot_state.RobotState" title="Permalink to this definition"></a></dt>
<dd><p>This class defines two services to get and set the current
robot pose, and a publisher to notify that the battery is low.</p>
<dl class="py method">
<dt class="sig sig-object py" id="scripts.robot_state.RobotState.get_battery_level">
<span class="sig-name descname"><span class="pre">get_battery_level</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/robot_state.html#RobotState.get_battery_level"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.robot_state.RobotState.get_battery_level" title="Permalink to this definition"></a></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">robot/get_battery_level</span></code> service implementation.
The <code class="docutils literal notranslate"><span class="pre">request</span></code> input parameter is given by the client as empty. Thus, it is not used.
The <code class="docutils literal notranslate"><span class="pre">response</span></code> returned to the client contains the current robot battery level.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.robot_state.RobotState.get_pose">
<span class="sig-name descname"><span class="pre">get_pose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/robot_state.html#RobotState.get_pose"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.robot_state.RobotState.get_pose" title="Permalink to this definition"></a></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">robot/get_pose</span></code> service implementation.
The <code class="docutils literal notranslate"><span class="pre">request</span></code> input parameter is given by the client as empty. Thus, it is not used.
The <code class="docutils literal notranslate"><span class="pre">response</span></code> returned to the client contains the current robot pose.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.robot_state.RobotState.set_battery_level">
<span class="sig-name descname"><span class="pre">set_battery_level</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/robot_state.html#RobotState.set_battery_level"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.robot_state.RobotState.set_battery_level" title="Permalink to this definition"></a></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">robot/set_battery_level</span></code> service implementation.
The <code class="docutils literal notranslate"><span class="pre">request</span></code> input parameter is given by the client as empty. Thus, it is not used.
The <code class="docutils literal notranslate"><span class="pre">response</span></code> returned to the client contains the current robot battery level.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.robot_state.RobotState.set_pose">
<span class="sig-name descname"><span class="pre">set_pose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/robot_state.html#RobotState.set_pose"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.robot_state.RobotState.set_pose" title="Permalink to this definition"></a></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">robot/set_pose</span></code> service implementation.
The <code class="docutils literal notranslate"><span class="pre">request</span></code> input parameter is the current robot pose to be set,
as given by the client. This server returns an empty <code class="docutils literal notranslate"><span class="pre">response</span></code>.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-scripts.planner">
<span id="planner"></span><h2>Planner<a class="headerlink" href="#module-scripts.planner" title="Permalink to this heading"></a></h2>
<span class="target" id="module-planner"></span><dl class="simple">
<dt>Uses Service:</dt><dd><p>/state/get_pose</p>
</dd>
<dt>Uses Action:</dt><dd><p>/motion/planner</p>
</dd>
<dt>Uses Param:</dt><dd><p>/config/environment_size</p>
</dd>
</dl>
<p>An action server to simulate motion planning.
Given a target position, it retrieves the current robot position from the
<code class="docutils literal notranslate"><span class="pre">robot-state</span></code> node, and return a plan as a set of via points.</p>
<dl class="py class">
<dt class="sig sig-object py" id="scripts.planner.PlaningAction">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scripts.planner.</span></span><span class="sig-name descname"><span class="pre">PlaningAction</span></span><a class="reference internal" href="_modules/scripts/planner.html#PlaningAction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.planner.PlaningAction" title="Permalink to this definition"></a></dt>
<dd><p>Initialises the motion planner action server and tries to find the path between the robot current
position and the target point when the <code class="docutils literal notranslate"><span class="pre">execute_callback(goal)</span></code> function is called .</p>
<dl class="py method">
<dt class="sig sig-object py" id="scripts.planner.PlaningAction.execute_callback">
<span class="sig-name descname"><span class="pre">execute_callback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">goal</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/planner.html#PlaningAction.execute_callback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.planner.PlaningAction.execute_callback" title="Permalink to this definition"></a></dt>
<dd><p>The callback invoked when a client set a goal to the planner server.
This function will return a list of random points (i.e., the plan) when the fist point
is the current robot position (retrieved from the <code class="docutils literal notranslate"><span class="pre">robot-state</span></code> node), while
the last point is the <code class="docutils literal notranslate"><span class="pre">goal</span></code> position (given as input parameter). The plan will contain
only the starting and end points and takes 0.1 sec to generate the plan.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>goal</strong> (<em>Point</em>) – </p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scripts.planner.main">
<span class="sig-prename descclassname"><span class="pre">scripts.planner.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/planner.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.planner.main" title="Permalink to this definition"></a></dt>
<dd><p>Initialise the node, its action server, and wait.</p>
</dd></dl>

</section>
<section id="module-scripts.controller">
<span id="controller"></span><h2>Controller<a class="headerlink" href="#module-scripts.controller" title="Permalink to this heading"></a></h2>
<span class="target" id="module-controller"></span><dl>
<dt>Uses Service:</dt><dd><p>/state/get_pose</p>
<p>/state/set_pose</p>
<p>/state/get_battery_level</p>
<p>/state/set_battery_level</p>
</dd>
<dt>Uses Action:</dt><dd><p>/motion/controller</p>
</dd>
</dl>
<p>An action server to simulate motion controlling.
Given a plan as a set of via points, it simulate the movements to reach each point with
a delay computed by dividing the eucledian distance between the robot current position and
target point by the robot speed. This server updates the current robot position stored in
the <code class="docutils literal notranslate"><span class="pre">robot-state</span></code> node.</p>
<dl class="py class">
<dt class="sig sig-object py" id="scripts.controller.ControllingAction">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scripts.controller.</span></span><span class="sig-name descname"><span class="pre">ControllingAction</span></span><a class="reference internal" href="_modules/scripts/controller.html#ControllingAction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.controller.ControllingAction" title="Permalink to this definition"></a></dt>
<dd><p>Initialises the motion controller action server and moves the robot through the found path by consuming
battery, with a particular speed in a time interval equal to the eucledian distance divided by speed, when
the <code class="docutils literal notranslate"><span class="pre">execute_callback(goal)</span></code> function is called .</p>
<dl class="py method">
<dt class="sig sig-object py" id="scripts.controller.ControllingAction.execute_callback">
<span class="sig-name descname"><span class="pre">execute_callback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">goal</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/controller.html#ControllingAction.execute_callback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.controller.ControllingAction.execute_callback" title="Permalink to this definition"></a></dt>
<dd><p>The callback invoked when a client set a goal to the <code class="docutils literal notranslate"><span class="pre">controller</span></code> server.
This function requires a list of via points (i.e., the plan), and it simulate
a movement through each point with a delay computed by dividing the eucledian
distance between the robot current position and target point by the robot speed
As soon as each via point is reached, the related robot position is updated
in the <code class="docutils literal notranslate"><span class="pre">robot-state</span></code> node.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scripts.controller.main">
<span class="sig-prename descclassname"><span class="pre">scripts.controller.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/controller.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.controller.main" title="Permalink to this definition"></a></dt>
<dd><p>Initialise the node, its action server, and wait.</p>
</dd></dl>

</section>
</section>
<section id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this heading"></a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Saeed Kalateh.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>